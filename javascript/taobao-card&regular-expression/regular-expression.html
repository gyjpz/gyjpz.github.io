<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>新用户注册页面</title>
    <link type="text/css" rel="stylesheet" href="css/register.css" />
</head>

<body>
<div id="header"><img src="images/register_logo.gif" alt="logo"/></div>
<div id="main">
    <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
            <td class="bg bg_top_left"></td>
            <td class="bg_top"></td>
            <td class="bg bg_top_right"></td>
        </tr>
        <tr>
            <td class="bg_left"></td>
            <td class="content">
                <form id="registerForm" action="" method="get" name="myform">
                    <dl>
                        <dt>通行证用户名：</dt>
                        <dd><input type="text" id="userName" class="inputs userWidth"/> @163.com</dd>
                        <div id="userNameId"></div>
                    </dl>
                    <dl>
                        <dt>登录密码：</dt>
                        <dd><input type="password" id="pwd" class="inputs"/></dd>
                        <div id="pwdId"></div>
                    </dl>
                    <dl>
                        <dt>重复登录密码：</dt>
                        <dd><input type="password" id="repwd" class="inputs"/></dd>
                        <div id="repwdId"></div>
                    </dl>
                    <dl>
                        <dt>性别：</dt>
                        <dd><input name="sex" type="radio" value="" checked="checked"/>男 <input name="sex" type="radio" value="" />女 </dd>
                    </dl>
                    <dl>
                        <dt>真实姓名：</dt>
                        <dd><input type="text" id="realName" class="inputs" /></dd>
                    </dl>
                    <dl>
                        <dt>昵称：</dt>
                        <dd><input type="text" id="nickName" class="inputs"/></dd>
                        <div id="nickNameId"></div>
                    </dl>
                    <dl>
                        <dt>关联手机号：</dt>
                        <dd><input type="text" id="tel" class="inputs"/></dd>
                        <div id="telId"></div>
                    </dl>
                    <dl>
                        <dt>保密邮箱：</dt>
                        <dd><input type="text" id="email" class="inputs"/></dd>
                        <div id="emailId"></div>
                    </dl>
                    <dl>
                        <dt></dt>
                        <dd><input name=" " type="image" src="images/button.gif" id="btn"/></dd>
                    </dl>
                </form>
            </td>
            <td class="bg_right"></td>
        </tr>
        <tr>
            <td class="bg bg_end_left"></td>
            <td class="bg_end"></td>
            <td class="bg bg_end_right"></td>
        </tr>
    </table>
</div>
<script>
	var allInput = document.getElementsByClassName('content')[0]
	
	allInput.addEventListener('focusin',function(event){
		var tagetId = event.target.id;
		switch(tagetId){
			case 'userName':
			if(userName.value == ''){
				userNameId.innerText = '通行证用户名不能为空,请输入通行证用户名'
			}
			break;
			case 'pwd':
			if(pwd.value == ''){
				pwdId.innerText = '密码不能为空,请输入密码'
			}
			break;
			case 'repwd':
			if(repwd.value == ''){
				repwdId.innerText = '重复密码不能为空,请输入重复密码'
			}
			break;
			case 'nickName':
			if(nickName.value == ''){
				nickNameId.innerText = '昵称不能为空,请输入昵称'
			}
			break;
			case 'tel':
			if(tel.value == ''){
				telId.innerText = '关联手机号码不能为空,请输入关联手机号码'
			}
			break;
			case 'email':
			if(email.value == ''){
				emailId.innerText = '保密邮箱不能为空,请输入保密邮箱'
			}
			break;
		}
	},false)
			var reg1 = /^([A-z0-9])([\w\.\-]{2,16})([A-z0-9])$/
			var reg2 = /^[\S]{6,16}$/
			var reg3 = /^[\w\@\!\#\$\%\&\*]{4,20}$/
			var reg4 = /^[1][358]([\d]{9})$/
			var reg5 =  /^([\w\.\-]+)@([\w\.\-]+)\.([\w]{2,4})$/
	allInput.addEventListener('focusout',function(event){
		var tagetId = event.target.id;
		switch (tagetId){
			case 'userName':
			if(!reg1.test(userName.value)){
				userNameId.innerText = '1、由字母、数字、下划线、点、减号组成' + '\n' + 
				'2、只能以数字、字母开头或结尾，且长度为4-18'
			}
			else{
				userNameId.innerText = ''
			}
			break;
			case 'pwd':
			if(!reg2.test(pwd.value)){
				pwdId.innerText = '密码长度为6-16'
			}
			else{
				pwdId.innerText = ''
			}
			break;
			case 'repwd':
			if(repwd.value != pwd.value || repwd.value == ''){
				repwdId.innerText = '两次输入的密码不一致，请重新输入'
			}
			else{
				repwdId.innerText = ''
			}
			break
			case 'nickName':
			if(!reg3.test(nickName.value)){
				nickNameId.innerText = '长度为4-20个字符'
			}
			else{
				nickNameId.innerText = ''
			}
			break
			case 'tel':
			if(!reg4.test(tel.value)){
				telId.innerText = '关联手机号码输入不正确,请重新输入'
			}
			else{
				telId.innerText = ''
			}
			break
			case 'email':
			if(!reg5.test(email.value)){
				emailId.innerText = '保密邮箱格式不正确,请重新输入'
			}
			else{
				emailId.innerText = ''
			}
			break
		}
		
	},false)
	btn.onclick = function(){
		if (reg1.test(userName.value) && reg2.test(pwd.value) && repwd.value != pwd.value || repwd.value == '' && 
		reg3.test(nickName.value) && reg4.test(tel.value) && reg5.test(email.value)) {
			return true
		}
		else{
			alert('注册失败')
		}
	}
</script>
</body>
</html>
